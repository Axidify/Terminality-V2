@layer components {
	.email-app {
		display: flex;
		flex-direction: column;
		height: 100%;
		--mail-bg: #020617;
		--mail-card: rgba(15, 23, 42, 0.6);
		--mail-border: rgba(148, 163, 184, 0.15);
		--mail-border-strong: rgba(148, 163, 184, 0.3);
		--mail-muted: #94a3b8;
		--mail-muted-light: #64748b;
		--mail-strong: #f1f5f9;
		--mail-heading: #f8fafc;
		--mail-pill-bg: rgba(56, 189, 248, 0.12);
		--mail-pill-border: rgba(56, 189, 248, 0.3);
		--mail-pill-text: #38bdf8;
		--mail-accent: #38bdf8;
		--mail-accent-soft: rgba(56, 189, 248, 0.1);
		--mail-quest: #4ade80;
		--mail-lore: #fbbf24;
		--mail-system: #60a5fa;
		--mail-reward: #f472b6;
		background: var(--mail-bg);
		color: var(--mail-strong);
		font-family: 'Inter', system-ui, sans-serif;
		padding: 0;
		gap: 0;
	}

	.email-app__header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: 1.25rem 2rem;
		background: rgba(15, 23, 42, 0.8);
		backdrop-filter: blur(8px);
		border-bottom: 1px solid var(--mail-border);
	}

	.email-app__eyebrow {
		font-size: 0.7rem;
		letter-spacing: 0.08em;
		text-transform: uppercase;
		color: var(--mail-muted-light);
		margin: 0 0 0.25rem;
		font-weight: 600;
	}

	.email-app__title {
		font-size: 1.5rem;
		margin: 0;
		font-weight: 700;
		letter-spacing: -0.01em;
		color: var(--mail-heading);
	}

	.email-app__status {
		display: inline-flex;
		align-items: center;
		gap: 0.75rem;
		font-size: 0.85rem;
		color: var(--mail-muted);
	}

	.email-app__status .dot {
		width: 6px;
		height: 6px;
		border-radius: 50%;
		background: var(--mail-accent);
		box-shadow: 0 0 10px rgba(56, 189, 248, 0.5);
		animation: pulse 2s ease-in-out infinite;
	}

	@keyframes pulse {
		0%, 100% { opacity: 1; }
		50% { opacity: 0.5; }
	}

	.email-app__layout {
		flex: 1;
		display: grid;
		grid-template-columns: 16rem 20rem 1fr;
		gap: 0;
		min-height: 0;
		overflow: hidden;
	}

	.email-sidebar,
	.email-list-panel,
	.email-viewer {
		padding: 1.25rem;
		background: transparent;
		border: none;
		overflow: hidden;
		display: flex;
		flex-direction: column;
	}

	.email-sidebar {
		background: rgba(15, 23, 42, 0.4);
		backdrop-filter: blur(10px);
		border-right: 1px solid var(--mail-border);
		gap: 1.5rem;
	}

	.email-sidebar h2,
	.email-sidebar h3 {
		margin: 0 0 0.75rem;
		font-size: 0.7rem;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		color: var(--mail-muted-light);
		font-weight: 700;
	}

	.email-sidebar ul {
		list-style: none;
		padding: 0;
		margin: 0;
		display: flex;
		flex-direction: column;
		gap: 0.35rem;
	}

	.email-sidebar li button {
		width: 100%;
		border: 1px solid transparent;
		border-radius: 0.375rem;
		padding: 0.75rem;
		background: transparent;
		color: var(--mail-muted);
		text-align: left;
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 0.75rem;
		cursor: pointer;
		transition: all 0.2s ease;
		font-weight: 500;
	}

	.email-sidebar li button:hover {
		background: rgba(30, 41, 59, 0.5);
		color: var(--mail-strong);
	}

	.email-sidebar li button.active {
		background: var(--mail-accent-soft);
		color: var(--mail-accent);
		border-color: rgba(56, 189, 248, 0.3);
	}

	.email-sidebar li button small {
		display: block;
		font-size: 0.7rem;
		color: var(--mail-muted-light);
		opacity: 0.8;
	}

	.email-sidebar li .count {
		font-size: 0.75rem;
		color: var(--mail-muted);
		background: rgba(148, 163, 184, 0.15);
		padding: 0.15rem 0.5rem;
		border-radius: 999px;
		font-weight: 600;
	}

	.email-filters {
		display: flex;
		flex-direction: column;
		gap: 0.35rem;
	}

	.email-filters .filter {
		border: 1px solid transparent;
		border-radius: 0.375rem;
		padding: 0.75rem;
		background: transparent;
		display: flex;
		align-items: center;
		justify-content: space-between;
		text-align: left;
		cursor: pointer;
		transition: all 0.2s ease;
		color: var(--mail-muted);
		font-weight: 500;
	}

	.email-filters .filter:hover {
		background: rgba(30, 41, 59, 0.5);
		color: var(--mail-strong);
	}

	.email-filters .filter.active {
		background: var(--mail-accent-soft);
		color: var(--mail-accent);
		border-color: rgba(56, 189, 248, 0.3);
	}

	.email-filters .filter small {
		display: block;
		font-size: 0.7rem;
		color: var(--mail-muted-light);
		opacity: 0.8;
	}

	.email-list-panel {
		background: rgba(15, 23, 42, 0.2);
		border-right: 1px solid var(--mail-border);
		gap: 1rem;
	}

	.email-list-panel__header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding-bottom: 0.75rem;
		border-bottom: 1px solid var(--mail-border);
	}

	.email-list-panel__header h2 {
		margin: 0;
		font-size: 1rem;
		font-weight: 600;
		letter-spacing: -0.01em;
		color: var(--mail-heading);
	}

	.email-list-panel__header p {
		margin: 0.25rem 0 0;
		font-size: 0.75rem;
		color: var(--mail-muted-light);
	}

	.email-badge {
		border-radius: 999px;
		padding: 0.25rem 0.65rem;
		font-size: 0.7rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		background: var(--mail-pill-bg);
		border: 1px solid var(--mail-pill-border);
		color: var(--mail-pill-text);
	}

	.email-list {
		flex: 1;
		overflow-y: auto;
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		padding-right: 0.25rem;
	}

	.email-list::-webkit-scrollbar {
		width: 6px;
	}

	.email-list::-webkit-scrollbar-track {
		background: transparent;
	}

	.email-list::-webkit-scrollbar-thumb {
		background: rgba(148, 163, 184, 0.3);
		border-radius: 999px;
	}

	.email-list::-webkit-scrollbar-thumb:hover {
		background: rgba(148, 163, 184, 0.5);
	}

	.email-empty {
		padding: 2.5rem 1.25rem;
		text-align: center;
		border: 1px dashed var(--mail-border);
		border-radius: 0.5rem;
		color: var(--mail-muted);
	}

	.email-row {
		border: 1px solid transparent;
		border-radius: 0.375rem;
		padding: 0.75rem;
		background: rgba(30, 41, 59, 0.3);
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
		cursor: pointer;
		transition: all 0.2s ease;
	}

	.email-row:hover {
		background: rgba(30, 41, 59, 0.5);
		transform: translateX(2px);
	}

	.email-row.unread {
		border-color: rgba(74, 222, 128, 0.3);
		background: rgba(74, 222, 128, 0.05);
		box-shadow: 0 0 10px rgba(74, 222, 128, 0.05);
	}

	.email-row.selected {
		background: var(--mail-accent-soft);
		border-color: rgba(56, 189, 248, 0.3);
		box-shadow: 0 0 15px rgba(56, 189, 248, 0.1);
	}

	.email-row__meta {
		display: flex;
		justify-content: space-between;
		align-items: center;
		font-size: 0.7rem;
		color: var(--mail-muted-light);
	}

	.email-row__sender {
		font-weight: 600;
		color: var(--mail-strong);
	}

	.email-row__subject {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: 0.75rem;
	}

	.email-row__subject span:first-child {
		font-size: 0.9rem;
		font-weight: 600;
		color: var(--mail-heading);
		flex: 1;
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	.email-row__tags {
		display: flex;
		gap: 0.35rem;
		flex-wrap: wrap;
	}

	.tag {
		border-radius: 0.25rem;
		padding: 0.15rem 0.5rem;
		font-size: 0.65rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		border: 1px solid currentColor;
		background: transparent;
		opacity: 0.9;
	}

	.tag-quest { color: var(--mail-quest); background: rgba(74, 222, 128, 0.1); }
	.tag-lore { color: var(--mail-lore); background: rgba(251, 191, 36, 0.1); }
	.tag-system { color: var(--mail-system); background: rgba(96, 165, 250, 0.1); }
	.tag-reward { color: var(--mail-reward); background: rgba(244, 114, 182, 0.1); }

	.email-row__snippet {
		margin: 0;
		font-size: 0.8rem;
		color: var(--mail-muted);
		line-height: 1.4;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
	}

	.email-row__actions {
		display: flex;
		gap: 0.5rem;
		flex-wrap: wrap;
		opacity: 0;
		transition: opacity 0.2s;
	}

	.email-row:hover .email-row__actions {
		opacity: 1;
	}

	.email-row__actions button,
	.viewer-actions button,
	.quest-actions button {
		border-radius: 0.25rem;
		border: 1px solid var(--mail-border);
		background: rgba(30, 41, 59, 0.5);
		color: var(--mail-strong);
		padding: 0.35rem 0.75rem;
		font-size: 0.75rem;
		font-weight: 500;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		cursor: pointer;
		transition: all 0.2s ease;
	}

	.email-row__actions button:hover,
	.viewer-actions button:hover,
	.quest-actions button:hover {
		border-color: var(--mail-accent);
		background: var(--mail-accent-soft);
		color: var(--mail-accent);
	}

	.quest-actions .ghost {
		border-color: var(--mail-border);
		color: var(--mail-muted);
		background: transparent;
	}

	.quest-actions button:disabled {
		opacity: 0.3;
		cursor: not-allowed;
		border-color: var(--mail-border);
		background: rgba(30, 41, 59, 0.2);
	}

	.email-viewer {
		flex: 1;
		min-width: 0;
		display: flex;
		flex-direction: column;
		gap: 1.25rem;
	}

	.email-viewer__empty {
		flex: 1;
		display: grid;
		place-items: center;
		color: var(--mail-muted);
		border: 1px dashed var(--mail-border);
		border-radius: 0.5rem;
	}

	.email-viewer__content {
		display: flex;
		flex-direction: column;
		gap: 1rem;
		height: 100%;
	}

	.email-alert {
		border: 1px solid rgba(251, 191, 36, 0.3);
		border-radius: 0.375rem;
		padding: 0.75rem 1rem;
		color: var(--mail-lore);
		background: rgba(251, 191, 36, 0.1);
		backdrop-filter: blur(8px);
	}

	.email-viewer header {
		display: flex;
		align-items: flex-start;
		justify-content: space-between;
		gap: 1rem;
		padding-bottom: 1rem;
		border-bottom: 1px solid var(--mail-border);
	}

	.email-viewer header h2 {
		margin: 0.25rem 0 0;
		font-size: 1.5rem;
		font-weight: 700;
		letter-spacing: -0.01em;
		color: var(--mail-heading);
		line-height: 1.2;
	}

	.email-viewer header .eyebrow {
		text-transform: uppercase;
		letter-spacing: 0.08em;
		font-size: 0.7rem;
		font-weight: 600;
		color: var(--mail-muted-light);
		margin: 0;
	}

	.email-viewer__meta {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(12rem, 1fr));
		gap: 1rem;
		padding: 1rem;
		border-radius: 0.375rem;
		border: 1px solid var(--mail-border);
		background: rgba(30, 41, 59, 0.3);
	}

	.email-viewer__meta dt {
		font-size: 0.7rem;
		text-transform: uppercase;
		letter-spacing: 0.08em;
		font-weight: 700;
		color: var(--mail-muted-light);
	}

	.email-viewer__meta dd {
		margin: 0.35rem 0 0;
		font-size: 0.85rem;
		color: var(--mail-strong);
	}

	.email-viewer__body {
		flex: 1;
		overflow-y: auto;
		border-radius: 0.375rem;
		border: 1px solid var(--mail-border);
		background: rgba(30, 41, 59, 0.3);
		padding: 1.25rem;
		line-height: 1.7;
		color: var(--mail-strong);
	}

	.email-viewer__body::-webkit-scrollbar {
		width: 6px;
	}

	.email-viewer__body::-webkit-scrollbar-track {
		background: transparent;
	}

	.email-viewer__body::-webkit-scrollbar-thumb {
		background: rgba(148, 163, 184, 0.3);
		border-radius: 999px;
	}

	.email-viewer__body p {
		margin: 0 0 1rem;
	}

	.email-viewer__body p:last-child {
		margin-bottom: 0;
	}

	.email-viewer__tags {
		display: flex;
		gap: 0.5rem;
		flex-wrap: wrap;
	}

	.quest-callout {
		border-radius: 0.5rem;
		border: 1px solid rgba(74, 222, 128, 0.3);
		padding: 1.25rem;
		background: rgba(74, 222, 128, 0.08);
		backdrop-filter: blur(8px);
		display: flex;
		flex-direction: column;
		gap: 1rem;
	}

	.quest-callout header {
		display: flex;
		align-items: center;
		justify-content: space-between;
		border-bottom: none;
		padding-bottom: 0;
	}

	.quest-callout h3 {
		margin: 0;
		font-size: 1.1rem;
		font-weight: 600;
		letter-spacing: -0.01em;
	}

	.quest-status {
		margin: 0;
		font-size: 0.8rem;
		font-weight: 600;
		color: var(--mail-quest);
	}

	.quest-actions {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
	}

	@media (max-width: 1100px) {
		.email-app__layout {
			grid-template-columns: 1fr;
		}

		.email-sidebar,
		.email-list-panel {
			width: 100%;
			border-right: none;
			border-bottom: 1px solid var(--mail-border);
		}
	}

	@media (max-width: 768px) {
		.email-app__header {
			flex-direction: column;
			align-items: flex-start;
			gap: 0.75rem;
		}

		.email-viewer header {
			flex-direction: column;
		}

		.email-viewer__meta {
			grid-template-columns: 1fr;
		}
	}
}

