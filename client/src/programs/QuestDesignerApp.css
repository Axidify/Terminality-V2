/* Quest Designer - Professional Layout */

.quest-designer-app {
	display: grid;
	grid-template-rows: auto 1fr;
	grid-template-columns: 18rem 1fr;
	grid-template-areas:
		"topbar topbar"
		"sidebar main";
	height: 100%;
	background: #020617;
	color: #e2e8f0;
	font-family: 'Inter', system-ui, sans-serif;
}

/* ========== TOP BAR ========== */
.quest-designer-topbar {
	grid-area: topbar;
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 1.5rem;
	padding: 0.75rem 1.5rem;
	background: rgba(15, 23, 42, 0.95);
	border-bottom: 1px solid rgba(148, 163, 184, 0.2);
	backdrop-filter: blur(10px);
}

.quest-designer-topbar__brand {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.quest-designer-topbar__brand h1 {
	margin: 0;
	font-size: 1rem;
	font-weight: 700;
	letter-spacing: -0.01em;
	color: #f8fafc;
}

.quest-designer-topbar__quest-name {
	font-size: 0.9rem;
	color: #94a3b8;
	font-weight: 500;
}

.quest-designer-topbar__status {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-size: 0.8rem;
	color: #64748b;
}

.quest-designer-topbar__status .status-indicator {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: #4ade80;
}

.quest-designer-topbar__status .status-indicator.dirty {
	background: #fbbf24;
}

.quest-designer-topbar__status .status-indicator.error {
	background: #f87171;
}

.quest-designer-topbar__actions {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

/* ========== SIDEBAR ========== */
.quest-designer-sidebar {
	grid-area: sidebar;
	display: flex;
	flex-direction: column;
	gap: 1rem;
	padding: 1rem;
	background: rgba(15, 23, 42, 0.4);
	border-right: 1px solid rgba(148, 163, 184, 0.2);
	overflow-y: auto;
}

.quest-designer-sidebar__header {
	display: flex;
	flex-direction: column;
	gap: 0.75rem;
}

.quest-designer-sidebar__header h2 {
	margin: 0;
	font-size: 0.75rem;
	font-weight: 700;
	text-transform: uppercase;
	letter-spacing: 0.08em;
	color: #94a3b8;
}

.quest-designer-sidebar__search {
	width: 100%;
	padding: 0.5rem 0.75rem;
	border-radius: 0.375rem;
	border: 1px solid rgba(148, 163, 184, 0.25);
	background: rgba(15, 23, 42, 0.7);
	color: #f1f5f9;
	font-size: 0.85rem;
	transition: border-color 0.15s ease, box-shadow 0.15s ease;
}

.quest-designer-sidebar__search:focus {
	outline: none;
	border-color: rgba(56, 189, 248, 0.5);
	box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.1);
}

.quest-designer-sidebar__filters {
	display: flex;
	flex-wrap: wrap;
	gap: 0.35rem;
}

.filter-chip {
	padding: 0.25rem 0.65rem;
	border-radius: 999px;
	border: 1px solid rgba(148, 163, 184, 0.3);
	background: transparent;
	color: #94a3b8;
	font-size: 0.7rem;
	font-weight: 500;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	cursor: pointer;
	transition: all 0.15s ease;
}

.filter-chip:hover {
	background: rgba(30, 41, 59, 0.5);
	color: #e2e8f0;
}

.filter-chip.active {
	border-color: rgba(56, 189, 248, 0.5);
	background: rgba(56, 189, 248, 0.15);
	color: #38bdf8;
}

.quest-designer-sidebar__list {
	flex: 1;
	min-height: 0;
	overflow-y: auto;
}

.quest-designer-sidebar__list ul {
	list-style: none;
	padding: 0;
	margin: 0;
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.quest-list-item {
	border: 1px solid transparent;
	border-radius: 0.375rem;
	background: rgba(30, 41, 59, 0.3);
	transition: all 0.15s ease;
	cursor: pointer;
}

.quest-list-item:hover {
	background: rgba(30, 41, 59, 0.6);
	transform: translateX(2px);
}

.quest-list-item.selected {
	background: rgba(56, 189, 248, 0.12);
	border-color: rgba(56, 189, 248, 0.4);
}

.quest-list-item__button {
	width: 100%;
	padding: 0.75rem;
	border: none;
	background: transparent;
	color: inherit;
	text-align: left;
	cursor: pointer;
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.quest-list-item__title {
	font-size: 0.85rem;
	font-weight: 600;
	color: #f1f5f9;
	margin: 0;
}

.quest-list-item__meta {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-size: 0.7rem;
	color: #64748b;
}

.quest-list-item__badge {
	padding: 0.15rem 0.4rem;
	border-radius: 0.25rem;
	font-size: 0.65rem;
	font-weight: 600;
	text-transform: uppercase;
}

.quest-list-item__badge.tutorial { background: rgba(16, 185, 129, 0.2); color: #10b981; }
.quest-list-item__badge.easy { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
.quest-list-item__badge.medium { background: rgba(251, 191, 36, 0.2); color: #fbbf24; }
.quest-list-item__badge.hard { background: rgba(248, 113, 113, 0.2); color: #f87171; }
.quest-list-item__badge.boss { background: rgba(192, 38, 211, 0.2); color: #c026d3; }

.quest-list-item__error-indicator {
	width: 6px;
	height: 6px;
	border-radius: 50%;
	background: #f87171;
}

.quest-designer-sidebar__empty {
	padding: 2rem 1rem;
	text-align: center;
	color: #64748b;
	font-size: 0.85rem;
}

/* ========== MAIN CONTENT ========== */
.quest-designer-main {
	grid-area: main;
	display: flex;
	flex-direction: column;
	min-height: 0;
	overflow: hidden;
}

.quest-designer-main__tabs {
	display: flex;
	align-items: center;
	gap: 0.25rem;
	padding: 0.75rem 1.5rem 0;
	background: rgba(15, 23, 42, 0.3);
	border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

.quest-designer-tab {
	padding: 0.5rem 1rem;
	border: none;
	border-radius: 0.375rem 0.375rem 0 0;
	background: transparent;
	color: #94a3b8;
	font-size: 0.8rem;
	font-weight: 600;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	cursor: pointer;
	transition: all 0.15s ease;
	position: relative;
}

.quest-designer-tab:hover {
	background: rgba(30, 41, 59, 0.5);
	color: #e2e8f0;
}

.quest-designer-tab.active {
	background: rgba(56, 189, 248, 0.12);
	color: #38bdf8;
}

.quest-designer-tab.active::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 2px;
	background: #38bdf8;
}

.quest-designer-main__content {
	flex: 1;
	min-height: 0;
	overflow-y: auto;
	padding: 1.5rem;
}

/* ========== EMPTY STATE ========== */
.quest-designer-empty-state {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	gap: 1rem;
	padding: 4rem 2rem;
	text-align: center;
	color: #64748b;
}

.quest-designer-empty-state h3 {
	margin: 0;
	font-size: 1.1rem;
	font-weight: 600;
	color: #94a3b8;
}

.quest-designer-empty-state p {
	margin: 0;
	font-size: 0.9rem;
	max-width: 400px;
}

/* ========== CONTENT SECTIONS ========== */
.quest-section {
	background: rgba(15, 23, 42, 0.4);
	border: 1px solid rgba(148, 163, 184, 0.15);
	border-radius: 0.5rem;
	padding: 1.5rem;
	margin-bottom: 1.5rem;
}

.quest-section:last-child {
	margin-bottom: 0;
}

.quest-section__header {
	margin-bottom: 1.25rem;
}

.quest-section__title {
	margin: 0 0 0.35rem;
	font-size: 1.1rem;
	font-weight: 700;
	color: #f8fafc;
	letter-spacing: -0.01em;
}

.quest-section__subtitle {
	margin: 0;
	font-size: 0.85rem;
	color: #94a3b8;
	line-height: 1.5;
}

.quest-section__body {
	display: flex;
	flex-direction: column;
	gap: 1rem;
}

/* ========== FORM ELEMENTS ========== */
.quest-form-row {
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 1.25rem;
}

.quest-form-row.single-column {
	grid-template-columns: 1fr;
}

.quest-form-field {
	display: flex;
	flex-direction: column;
	gap: 0.35rem;
}

.quest-form-field.full-width {
	grid-column: 1 / -1;
}

.quest-form-field label {
	font-size: 0.85rem;
	font-weight: 600;
	color: #e2e8f0;
}

.quest-form-field label .optional {
	font-weight: 400;
	color: #64748b;
	font-size: 0.75rem;
}

.quest-form-field input[type="text"],
.quest-form-field input[type="number"],
.quest-form-field textarea,
.quest-form-field select {
	padding: 0.55rem 0.8rem;
	border-radius: 0.375rem;
	border: 1px solid rgba(148, 163, 184, 0.25);
	background: rgba(15, 23, 42, 0.7);
	color: #f1f5f9;
	font-family: inherit;
	font-size: 0.9rem;
	min-height: 2.25rem;
	transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
}

.quest-form-field textarea {
	min-height: 5.5rem;
	resize: vertical;
}

.quest-form-field input:focus,
.quest-form-field textarea:focus,
.quest-form-field select:focus {
	outline: none;
	border-color: rgba(56, 189, 248, 0.6);
	box-shadow: 0 0 0 2px rgba(56, 189, 248, 0.18);
	background: rgba(15, 23, 42, 0.9);
}

.quest-form-field__hint {
	font-size: 0.75rem;
	color: #64748b;
	line-height: 1.4;
}

.quest-form-field__error {
	font-size: 0.75rem;
	color: #f87171;
	line-height: 1.4;
}

/* ========== BUTTONS ========== */
.quest-btn {
	appearance: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 0.35rem;
	min-height: 2.25rem;
	padding: 0.4rem 0.95rem;
	border-radius: 0.375rem;
	border: 1px solid transparent;
	font-weight: 600;
	font-size: 0.85rem;
	letter-spacing: 0.04em;
	text-transform: uppercase;
	cursor: pointer;
	transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease, background 0.15s ease, color 0.15s ease, border-color 0.15s ease;
}

.quest-btn:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

.quest-btn-primary {
	background: linear-gradient(135deg, #0ea5e9, #2563eb);
	color: #fff;
	box-shadow: 0 4px 6px -1px rgba(15, 23, 42, 0.4);
}

.quest-btn-primary:hover:not(:disabled) {
	filter: brightness(1.05);
	transform: translateY(-1px);
	box-shadow: 0 10px 15px -3px rgba(15, 23, 42, 0.5);
}

.quest-btn-primary:active:not(:disabled) {
	transform: translateY(0);
}

.quest-btn-secondary {
	border-color: rgba(148, 163, 184, 0.35);
	background: transparent;
	color: #94a3b8;
}

.quest-btn-secondary:hover:not(:disabled) {
	background: rgba(148, 163, 184, 0.12);
	color: #e2e8f0;
	border-color: rgba(148, 163, 184, 0.6);
}

.quest-btn-danger {
	border-color: rgba(248, 113, 113, 0.6);
	background: rgba(248, 113, 113, 0.15);
	color: #f87171;
}

.quest-btn-danger:hover:not(:disabled) {
	background: rgba(248, 113, 113, 0.25);
	border-color: rgba(248, 113, 113, 0.8);
}

.quest-btn-group {
	display: flex;
	align-items: center;
	gap: 0.75rem;
}

.quest-btn-group .spacer {
	flex: 1;
}

/* ========== WIZARD STEP SHELL ========== */
.wizard-step-shell {
	max-width: 1120px;
	margin: 0 auto;
	padding: 2rem 1.5rem;
	display: flex;
	flex-direction: column;
	gap: 2rem;
}

.wizard-step-header {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	padding-bottom: 1.5rem;
	border-bottom: 1px solid rgba(148, 163, 184, 0.15);
}

.wizard-step-header h2 {
	margin: 0;
	font-size: 1.75rem;
	font-weight: 700;
	color: #f8fafc;
	line-height: 1.2;
}

.wizard-step-header p {
	margin: 0;
	font-size: 0.95rem;
	color: #94a3b8;
	line-height: 1.5;
}

.wizard-step-body {
	display: flex;
	flex-direction: column;
	gap: 2rem;
}

.wizard-step-footer {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: 1rem;
	padding-top: 2rem;
	border-top: 1px solid rgba(148, 163, 184, 0.15);
}

/* ========== WIZARD SECTIONS ========== */
.wizard-section {
	display: flex;
	flex-direction: column;
	gap: 1rem;
	padding: 1.5rem;
	background: rgba(15, 23, 42, 0.5);
	border: 1px solid rgba(148, 163, 184, 0.2);
	border-radius: 0.5rem;
}

.wizard-section h3 {
	margin: 0;
	font-size: 1.1rem;
	font-weight: 600;
	color: #f1f5f9;
}

.wizard-section-help {
	margin: 0;
	font-size: 0.85rem;
	color: #94a3b8;
	line-height: 1.5;
}

.wizard-form-grid {
	display: grid;
	grid-template-columns: repeat(2, minmax(0, 1fr));
	gap: 1.5rem 1.25rem;
}

.wizard-form-grid.single-column {
	grid-template-columns: 1fr;
}

/* ========== WIZARD FIELDS ========== */
.wizard-field {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.wizard-field.full-width {
	grid-column: 1 / -1;
}

.wizard-label {
	font-size: 0.85rem;
	font-weight: 600;
	color: #e2e8f0;
	letter-spacing: 0.01em;
}

.wizard-control {
	display: flex;
	flex-direction: column;
	gap: 0.5rem;
}

.wizard-control input,
.wizard-control textarea,
.wizard-control select {
	width: 100%;
	padding: 0.65rem 0.85rem;
	border-radius: 0.375rem;
	border: 1px solid rgba(148, 163, 184, 0.25);
	background: rgba(15, 23, 42, 0.7);
	color: #f1f5f9;
	font-family: inherit;
	font-size: 0.9rem;
	min-height: 2.5rem;
	transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
}

.wizard-control textarea {
	min-height: 5rem;
	resize: vertical;
	line-height: 1.5;
}

.wizard-control input:focus,
.wizard-control textarea:focus,
.wizard-control select:focus {
	outline: none;
	border-color: rgba(56, 189, 248, 0.6);
	box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.15);
	background: rgba(15, 23, 42, 0.9);
}

.wizard-help {
	margin: 0;
	font-size: 0.75rem;
	color: #64748b;
	line-height: 1.4;
}

.wizard-control input[type="checkbox"] {
	width: auto;
	min-height: auto;
}

.wizard-checkbox-label {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	font-size: 0.9rem;
	color: #e2e8f0;
	cursor: pointer;
}

/* ========== WIZARD STEPPER ========== */
.quest-wizard-stepper {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	padding: 1rem 1.5rem;
	background: rgba(15, 23, 42, 0.3);
	border-bottom: 1px solid rgba(148, 163, 184, 0.15);
	overflow-x: auto;
}

.quest-wizard-step {
	display: flex;
	align-items: center;
	gap: 0.5rem;
	padding: 0.5rem 0.85rem;
	border-radius: 0.375rem;
	border: 1px solid transparent;
	background: rgba(30, 41, 59, 0.4);
	color: #94a3b8;
	font-size: 0.8rem;
	font-weight: 500;
	white-space: nowrap;
	transition: all 0.15s ease;
	cursor: pointer;
}

.quest-wizard-step__number {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 1.5rem;
	height: 1.5rem;
	border-radius: 50%;
	background: rgba(148, 163, 184, 0.2);
	font-size: 0.75rem;
	font-weight: 700;
}

.quest-wizard-step:hover {
	background: rgba(51, 65, 85, 0.6);
	color: #e2e8f0;
}

.quest-wizard-step.active {
	border-color: rgba(56, 189, 248, 0.4);
	background: rgba(56, 189, 248, 0.12);
	color: #38bdf8;
}

.quest-wizard-step.active .quest-wizard-step__number {
	background: rgba(56, 189, 248, 0.3);
	color: #38bdf8;
}

.quest-wizard-step.complete {
	border-color: rgba(34, 197, 94, 0.3);
	background: rgba(34, 197, 94, 0.1);
	color: #4ade80;
}

.quest-wizard-step.complete .quest-wizard-step__number {
	background: rgba(34, 197, 94, 0.3);
	color: #4ade80;
}

.quest-wizard-step.error {
	border-color: rgba(248, 113, 113, 0.3);
	background: rgba(248, 113, 113, 0.1);
	color: #f87171;
}

.quest-wizard-step.error .quest-wizard-step__number {
	background: rgba(248, 113, 113, 0.3);
	color: #f87171;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 960px) {
	.quest-designer-app {
		grid-template-rows: auto auto 1fr;
		grid-template-columns: 1fr;
		grid-template-areas:
			"topbar"
			"sidebar"
			"main";
	}

	.quest-designer-sidebar {
		max-height: 200px;
		border-right: none;
		border-bottom: 1px solid rgba(148, 163, 184, 0.2);
	}

	.quest-form-row {
		grid-template-columns: 1fr;
	}

	.quest-designer-main__tabs {
		overflow-x: auto;
	}

	.wizard-step-shell {
		padding: 1.5rem 1rem;
	}

	.wizard-form-grid {
		grid-template-columns: 1fr;
	}

	.wizard-section {
		padding: 1rem;
	}
}
